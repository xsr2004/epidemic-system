(function(){var e={40589:function(e,a,t){"use strict";var i=t(32083),n=function(){var e=this,a=e._self._c;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},l=[],s={name:"App",components:{}},o=s,r=t(1001),d=(0,r.Z)(o,n,l,!1,null,null,null),c=d.exports,u=t(21960),h=t.n(u),m=t(83625),v=function(){var e=this,a=e._self._c;return a("div",[a("el-container",[a("el-aside",{attrs:{width:"200px"}},[a("common-aside")],1),a("el-container",[a("el-main",[a("keep-alive",[a("router-view")],1)],1)],1)],1)],1)},f=[],p=function(){var e=this,a=e._self._c;return a("div",[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[a("img",{staticClass:"pic_virus",attrs:{src:t(46964)}}),a("h3",{staticClass:"h3_class"},[e._v("疫情查询系统")]),e._l(e.menuData,(function(t){return a("el-menu-item",{key:t.path,attrs:{index:t.name},on:{click:function(a){return e.ClickMenu(t)}}},[a("i",{class:`el-icon-${t.icon}`}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.label))])])}))],2)],1)},b=[],g=(t(57658),{name:"CommonAside",data(){return{menuData:[{path:"/home",name:"Home",label:"首页",icon:"s-home",url:"Home/Home"},{path:"/find",name:"Find",label:"疫情风险等级",icon:"s-promotion",url:"Find/Find"}]}},methods:{ClickMenu(e){e.path!=this.$route.path&&("/"===this.$route.path&&"/Home"===item.path||this.$router.push(e.path))}}}),_=g,C=(0,r.Z)(_,p,b,!1,null,"7533e7e0",null),w=C.exports,T={name:"MainView",components:{CommonAside:w}},y=T,S=(0,r.Z)(y,v,f,!1,null,null,null),x=S.exports,H=function(){var e=this,a=e._self._c;return a("div",{directives:[{name:"show",rawName:"v-show",value:this.loading,expression:"this.loading"}],staticClass:"home_container"},[a("el-card",{staticClass:"first"},[a("span",{staticClass:"h3_class"},[e._v(" "+e._s(e.judgeTime)+" ")])]),a("div",{staticClass:"home_add_container"},[a("div",{staticClass:"home_add_container add1"},[a("div",{staticClass:"number"},[e._v("+"+e._s(this.chinaTotal.localConfirmAdd))]),a("br"),a("div",{staticClass:"infor one"},[e._v("本土确诊")])]),a("div",{staticClass:"home_add_container add2"},[a("div",{staticClass:"number",staticStyle:{color:"rgb(199, 62, 129)"}},[e._v("+"+e._s(this.chinaTotal.localWzzAdd))]),a("br"),a("div",{staticClass:"infor"},[e._v("本土无症状")])]),a("div",{staticClass:"home_add_container add3"},[a("div",{staticClass:"number",staticStyle:{color:"rgb(186, 34, 36)"}},[e._v("+"+e._s(this.chinaTotal.confirmAdd))]),a("br"),a("div",{staticClass:"infor"},[e._v("确诊病例")])]),a("div",{staticClass:"home_add_container add4"},[a("div",{staticClass:"number"},[e._v(e._s(this.chinaTotal.localConfirm))]),a("br"),a("div",{staticClass:"infor"},[e._v("现有本土确诊")])]),a("div",{staticClass:"home_add_container add5"},[a("div",{staticClass:"number",staticStyle:{color:"rgb(199, 62, 129)"}},[e._v(e._s(this.chinaTotal.noInfectH5))]),a("br"),a("div",{staticClass:"infor"},[e._v("现有本土无症状")])]),a("div",{staticClass:"home_add_container add6"},[a("div",{staticClass:"number",staticStyle:{color:"rgb(237, 59, 62)"}},[e._v(e._s(this.chinaTotal.highRiskAreaNum))]),a("br"),a("div",{staticClass:"infor"},[e._v("高风险地区")])])]),a("div",{staticClass:"loading"},[a("el-card",{attrs:{shadow:"hover","body-style":"padding-top:0px"}},[a("table",{staticClass:"table"},[a("tbody",[a("tr",{staticClass:"tr-area"},[a("td",{staticClass:"td",staticStyle:{"font-weight":"600"}},[e._v("地区")]),a("td",{staticClass:"td",staticStyle:{color:"rgb(249, 94, 21)"}},[e._v("新增确诊")]),a("td",{staticClass:"td",staticStyle:{color:"rgb(79, 90, 101)"}},[e._v("新增死亡")]),a("td",{staticClass:"td",staticStyle:{color:"rgb(240, 83, 85)"}},[e._v("现有确诊")]),a("td",{staticClass:"td",staticStyle:{color:"rgb(208, 92, 149)"}},[e._v("累计确诊")]),a("td",{staticClass:"td",staticStyle:{color:"rgb(79, 90, 101)"}},[e._v("累计死亡")])]),e._l(e.areaTree,(function(t){return a("tr",{key:t.lastUpdateTime,staticClass:"tr"},[a("td",{staticStyle:{color:"rgb(83, 125, 239)","font-weight":"600"}},[e._v(" "+e._s(t.name)+" ")]),a("td",[e._v(" "+e._s(t.local_confirm_add)+" ")]),a("td",[e._v(" "+e._s(t.dead_add)+" ")]),a("td",[e._v(" "+e._s(t.nowConfirm)+" ")]),a("td",[e._v(" "+e._s(t.confirm)+" ")]),a("td",[e._v(" "+e._s(t.dead)+" ")])])}))],2)])]),e._m(0),a("div",{ref:"echart",staticStyle:{width:"350px",height:"350px",position:"absolute",top:"350px",right:"0px"}})],1)],1)},A=[function(){var e=this,a=e._self._c;return a("div",{staticClass:"tip"},[a("span",{staticStyle:{color:"rgb(128, 115, 115)","font-size":"8px"}},[e._v("数据来源：各地卫健委每日公开数据")]),a("i",{staticClass:"el-icon-warning-outline"})])}],D=t(17160),N=(t(91138),t(7985)),k={name:"Home",data(){return{timer:void 0,NowTime:(new Date).toLocaleString(),TimeLoad:!1,NowCity:"",value:["","",""],options:[{value:"北京市",label:"北京市"},{value:"天津市",label:"天津市"},{value:"河北省",label:"河北省",children:[{value:"石家庄市",label:"石家庄市"},{value:"唐山市",label:"唐山市"},{value:"秦皇岛市",label:"秦皇岛市"},{value:"邯郸市",label:"邯郸市"}]},{value:"山西省",label:"山西省"},{value:"内蒙古自治区",label:"内蒙古自治区"},{value:"辽宁省",label:"辽宁省"},{value:"黑龙江省",label:"黑龙江省"},{value:"上海市",label:"上海市"},{value:"浙江省",label:"浙江省"},{value:"安徽省",label:"安徽省"}],imgsrc:"./banner.png",chinaTotal:{localConfirmAdd:void 0,localWzzAdd:void 0,confirmAdd:void 0,localConfirm:void 0,noInfectH5:void 0,highRiskAreaNum:void 0,lastUpdateTime:void 0},areaTree:[{}],dataList:[{name:"台湾",value:2170.7},{name:"广东",value:1559.6},{name:"香港",value:2423.78},{name:"北京",value:3048.43},{name:"重庆",value:7556.3},{name:"山西",value:9605},{name:"四川",value:4800.5},{name:"云南",value:4359.3},{name:"浙江",value:3788.7},{name:"黑龙江",value:6860.2},{name:"福建",value:6323.6},{name:"内蒙古",value:10047.2},{name:"河南",value:2444.67},{name:"辽宁",value:8029.3},{name:"陕西",value:5737},{name:"山东",value:4622.1},{name:"上海",value:5917},{name:"江苏",value:4885},{name:"海南",value:2625.71},{name:"湖南",value:3702.35},{name:"贵州",value:2534},{name:"新疆",value:3835.44},{name:"湖北",value:2717.43},{name:"吉林",value:3941},{name:"河北",value:3580},{name:"澳门",value:11346},{name:"广西",value:3983.8},{name:"青海",value:3371.5},{name:"安徽",value:8341},{name:"天津",value:681.79},{name:"西藏",value:925.76},{name:"甘肃",value:2369},{name:"江西",value:748.25},{name:"宁夏",value:63.2}],loading:!1}},mounted(){console.log(this.areaTree),this.getChinaDataNow(),this.buildMap()},created(){this.timer=setInterval((()=>{this.NowTime=(new Date).toLocaleString(),this.TimeLoad=!0}),1e3)},computed:{judgeTime(){if(this.timer){let e=new Date(this.NowTime);if(this.TimeLoad=!0,e.getHours()>=0&&e.getHours()<=4)return`夜深了！现在是北京时间${this.NowTime}`;if(e.getHours()>4&&e.getHours()<=11)return`早上好！现在是北京时间${this.NowTime}`;if(e.getHours()>11&&e.getHours()<=14)return`中午好！现在是北京时间${this.NowTime}`;if(e.getHours()>14&&e.getHours()<=18)return`下午好！现在是北京时间${this.NowTime}`;if(e.getHours()>18&&e.getHours()<=24)return`晚上好！现在是北京时间${this.NowTime}`}}},methods:{handleChange(){console.log(this.value)},getChinaDataNow(){N.Z.request({method:"post",url:"https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=localCityNCOVDataList,diseaseh5Shelf",dataType:"json",ContentType:"application/x-www-form-urlencoded"}).then((e=>{this.chinaTotal.localConfirmAdd=e.data.data.diseaseh5Shelf.chinaTotal.localConfirmAdd,this.chinaTotal.localWzzAdd=e.data.data.diseaseh5Shelf.chinaTotal.localWzzAdd,this.chinaTotal.confirmAdd=e.data.data.diseaseh5Shelf.chinaTotal.confirmAdd,this.chinaTotal.localConfirm=e.data.data.diseaseh5Shelf.chinaTotal.localConfirm,this.chinaTotal.noInfectH5=e.data.data.diseaseh5Shelf.chinaTotal.noInfectH5,this.chinaTotal.highRiskAreaNum=e.data.data.diseaseh5Shelf.chinaTotal.highRiskAreaNum,this.chinaTotal.lastUpdateTime=e.data.data.diseaseh5Shelf.lastUpdateTime;for(const a in e.data.data.diseaseh5Shelf.areaTree[0].children)e.data.data.diseaseh5Shelf.areaTree[0].children[a].today.name=e.data.data.diseaseh5Shelf.areaTree[0].children[a].name;for(const a in e.data.data.diseaseh5Shelf.areaTree[0].children)this.areaTree[a]=e.data.data.diseaseh5Shelf.areaTree[0].children[a].today,this.areaTree[a].nowConfirm=e.data.data.diseaseh5Shelf.areaTree[0].children[a].total.nowConfirm,this.areaTree[a].confirm=e.data.data.diseaseh5Shelf.areaTree[0].children[a].total.confirm,this.dataList[a].name==this.areaTree[a].name&&(this.dataList[a].value=this.areaTree[a].nowConfirm),this.areaTree[a].dead=e.data.data.diseaseh5Shelf.areaTree[0].children[a].total.dead,this.areaTree[a].dead_add=e.data.data.diseaseh5Shelf.areaTree[0].children[a].today.dead_add;console.log(this.areaTree),console.log(this.dataList),this.buildMap(),this.loading=!0}))},buildMap(){var e=D.init(this.$refs.echart);console.log(e);let a={tooltip:{formatter:function(e,a,t){return e.seriesName+"<br />"+e.name+":"+e.value}},visualMap:{min:1e3,max:1e4,left:"left",top:"bottom",text:["高","低"],inRange:{color:["#fff4e6","#dd2002"]}},geo:{map:"china",roam:!1,zoom:1.23,label:{normal:{show:!0,fontSize:"10",color:"rgba(0,0,0,0.7)"}},itemStyle:{normal:{borderColor:"rgba(0, 0, 0, 0.2)"},emphasis:{areaColor:"#F3B329",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:20,borderWidth:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}},series:[{name:"现有确诊",type:"map",geoIndex:0,data:this.dataList}]};e.setOption(a)}},beforeDestroy(){this.timer&&clearInterval(this.timer)}},j=k,L=(0,r.Z)(j,H,A,!1,null,"3cbb7137",null),O=L.exports,M=function(){var e=this,a=e._self._c;return a("div",{staticClass:"find_container"},[a("el-card",{staticClass:"second"},[a("div",{staticStyle:{height:"35px","line-height":"19px","margin-bottom":"15px"}},[a("div",{staticClass:"deadline"},[a("span",{staticClass:"deadline span"},[e._v("截至"+e._s(e.listDeadline))])]),a("span",{staticClass:"h3_class"},[e._v("全国高风险区名单")]),a("el-cascader",{attrs:{options:e.options,filterable:""},on:{change:e.handleChange},model:{value:e.value,callback:function(a){e.value=a},expression:"value"}}),a("el-button",{staticClass:"search_button",attrs:{icon:"el-icon-search",circle:""}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"data_list",staticStyle:{width:"800px"},attrs:{stripe:!0,align:"center","element-loading-text":"正在获取全国疫情信息...",height:"1000px",data:e.tableData,border:!0}},[a("el-table-column",{staticStyle:{"line-height":"normal"},attrs:{label:"市，区/县，乡",align:"center",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"area_name"},[a("span",[e._v(e._s(t.row.area_name))])]),e._l(t.row.communitys,(function(i,n){return a("div",{key:i,attrs:{label:i,index:n}},[e._v(e._s(t.row.communitys[n]))])}))]}}])}),a("el-table-column",{attrs:{prop:"warningType1",label:"地区性质",align:"center",width:"400"}})],1)],1)],1)},$=[];const z=function(){return new Promise(((e,a)=>{(new BMap.LocalCity).get((a=>{let t=new BMap.Geocoder;t.getLocation(a.center,(a=>{let t=a.addressComponents,i=t.city+t.district;console.log(a),console.log(1),e(i)}))}),{enableHighAccuracy:!0})}))};var F=z,I=t(89457),Z=t.n(I),q={name:"Find",data(){return{NowCity:"",value:["","",""],options:[{value:"北京市",label:"北京市"},{value:"天津市",label:"天津市"},{value:"河北省",label:"河北省",children:[{value:"石家庄市",label:"石家庄市"},{value:"唐山市",label:"唐山市"},{value:"秦皇岛市",label:"秦皇岛市"},{value:"邯郸市",label:"邯郸市"}]},{value:"山西省",label:"山西省"},{value:"内蒙古自治区",label:"内蒙古自治区"},{value:"辽宁省",label:"辽宁省"},{value:"黑龙江省",label:"黑龙江省"},{value:"上海市",label:"上海市"},{value:"浙江省",label:"浙江省"},{value:"安徽省",label:"安徽省"}],tableData:[],listDeadline:"",loading:!0,warningType1:"高风险"}},methods:{handleChange(){console.log(this.value)},getbmfwLiudiao(){var e=((new Date).getTime()/1e3).toFixed(),a="23y0ufFl5YxIyGrI8hWRUZmKkvtSjLQA",t="123456789abcdefg",i="zdww";let n={appId:"NcApplication",flag:"11",key:"3C502C97ABDA40D0A60FBEE50FAAD1DA",nonceHeader:t,paasHeader:i,signatureHeader:Z().SHA256(e+a+t+e).toString(Z().enc.Hex).toUpperCase(),timestampHeader:e};var l=Z().SHA256(n.timestampHeader+"fTN2pfuisxTavbTuYVSsNJHetwq5bJvCQkjjtiLM2dCratiA"+n.timestampHeader).toString(Z().enc.Hex).toUpperCase();N.Z.request({method:"post",url:"http://bmfw.www.gov.cn/bjww/interface/interfaceJson",dataType:"json",contentType:"application/json; charset=utf-8",crossDomain:!0===!document.all,data:n,params:n,headers:{"x-wif-nonce":"QkjjtiLM2dCratiA","x-wif-paasid":"smt-application","x-wif-signature":l,"x-wif-timestamp":n.timestampHeader}}).then((e=>{this.loading=!1,this.successTip(),this.tableData=e.data.data.highlist,this.listDeadline=e.data.data.end_update_time;for(const a in this.tableData){this.tableData[a].warningType1="高风险";for(const e in this.tableData[a].communitys)this.tableData[a][e]=this.tableData[a].communitys[e];console.log(this.tableData)}})).catch((e=>{this.errorTip()}))},getCurrentDafaultCity(){F().then((e=>{console.log(e),this.NowCity=e}))},errorTip(){this.loading=!1,this.$message({message:"服务器忙或网络慢，请等待或重开",type:"error"})},successTip(){this.loading=!1,this.$message({message:"获取数据成功！",type:"success"})}},mounted(){this.getbmfwLiudiao()}},P=q,U=(0,r.Z)(P,M,$,!1,null,"782dddc9",null),B=U.exports,R=new m.ZP({routes:[{path:"/",component:x,redirect:"/Home",children:[{path:"Home",name:"Home",component:O},{path:"Find",name:"Find",component:B}]}]});i["default"].use(h()),i["default"].config.productionTip=!1,i["default"].use(m.ZP),new i["default"]({render:e=>e(c),router:R}).$mount("#app")},46964:function(e,a,t){"use strict";e.exports=t.p+"static/img/virus.b071e5b7.jpg"},42480:function(){}},a={};function t(i){var n=a[i];if(void 0!==n)return n.exports;var l=a[i]={id:i,loaded:!1,exports:{}};return e[i].call(l.exports,l,l.exports,t),l.loaded=!0,l.exports}t.m=e,function(){var e=[];t.O=function(a,i,n,l){if(!i){var s=1/0;for(c=0;c<e.length;c++){i=e[c][0],n=e[c][1],l=e[c][2];for(var o=!0,r=0;r<i.length;r++)(!1&l||s>=l)&&Object.keys(t.O).every((function(e){return t.O[e](i[r])}))?i.splice(r--,1):(o=!1,l<s&&(s=l));if(o){e.splice(c--,1);var d=n();void 0!==d&&(a=d)}}return a}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[i,n,l]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var i in a)t.o(a,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:a[i]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){t.p=""}(),function(){var e={143:0};t.O.j=function(a){return 0===e[a]};var a=function(a,i){var n,l,s=i[0],o=i[1],r=i[2],d=0;if(s.some((function(a){return 0!==e[a]}))){for(n in o)t.o(o,n)&&(t.m[n]=o[n]);if(r)var c=r(t)}for(a&&a(i);d<s.length;d++)l=s[d],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(c)},i=self["webpackChunkepidemic_system"]=self["webpackChunkepidemic_system"]||[];i.forEach(a.bind(null,0)),i.push=a.bind(null,i.push.bind(i))}();var i=t.O(void 0,[998],(function(){return t(40589)}));i=t.O(i)})();
//# sourceMappingURL=app.b07ff8cf.js.map